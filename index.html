<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joyeux Anniversaire Rejoice !</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ec4899;
            --secondary: #8b5cf6;
            --accent: #f43f5e;
            --light: #fdf2f8;
            --dark: #1e293b;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overscroll-behavior-y: none;
        }
        
        .font-dancing { font-family: 'Dancing Script', cursive; }
        .font-montserrat { font-family: 'Montserrat', sans-serif; }
        .font-poppins { font-family: 'Poppins', sans-serif; }
        
        /* Animations sophistiqu√©es */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes gentlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes cardAppear {
            from {
                opacity: 0;
                transform: translateY(20px) rotate(-2deg) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) rotate(0) scale(1);
            }
        }
        
        @keyframes floatBalloon {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) scale(1);
                opacity: 0;
            }
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        @keyframes rotate3d {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(360deg); }
        }
        
        /* Classes d'animation */
        .floating { 
            animation: float 3s ease-in-out infinite;
        }
        
        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }
        
        .slide-up {
            animation: slideUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }
        
        .pulse {
            animation: gentlePulse 3s ease-in-out infinite;
        }
        
        .heartbeat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        .star { 
            animation: twinkle var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
        }
        
        .animated-bg {
            background-size: 200% 200%;
            animation: gradientBG 15s ease infinite;
        }
        
        .card-appear {
            animation: cardAppear 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }
        
        .sequential-appear {
            opacity: 0;
            animation: fadeIn 0.6s ease-out forwards, slideUp 0.6s ease-out forwards;
        }
        
        .modal-appear {
            animation: modalAppear 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }
        
        .balloon {
            position: absolute;
            border-radius: 50%;
            opacity: 0.8;
            animation: floatBalloon 15s linear infinite;
            z-index: 0;
        }
        
        /* Effets visuels */
        .glass-effect {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .btn-glow {
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .btn-glow:hover {
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.8);
            transform: translateY(-3px) scale(1.02);
        }
        
        .btn-glow:active {
            transform: translateY(1px) scale(0.98);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .hover-scale {
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .hover-scale:hover {
            transform: scale(1.03);
        }
        
        .shimmer-effect {
            position: relative;
            overflow: hidden;
        }
        
        .shimmer-effect::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 2s infinite;
        }
        
        /* Audio control */
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            background: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .audio-control:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0,0,0,0.2);
        }
        
        .audio-control i {
            font-size: 24px;
            color: var(--secondary);
            transition: color 0.3s ease;
        }
        
        .audio-control:hover i {
            color: var(--primary);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary), var(--secondary));
            border-radius: 10px;
        }
        
        /* 3D Card effect */
        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }
        
        .card-3d:hover {
            transform: rotateY(10deg) rotateX(5deg) translateY(-5px);
        }
        
        /* Floating elements */
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Photo frame */
        .photo-frame {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .photo-frame::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0));
            z-index: 1;
            pointer-events: none;
        }
        
        /* Custom checkbox */
        .custom-checkbox {
            position: relative;
            width: 24px;
            height: 24px;
            appearance: none;
            -webkit-appearance: none;
            background: white;
            border-radius: 6px;
            border: 2px solid var(--primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .custom-checkbox:checked {
            background: var(--primary);
        }
        
        .custom-checkbox:checked::after {
            content: '‚úì';
            position: absolute;
            color: white;
            font-size: 14px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Progress bar */
        .progress-container {
            height: 6px;
            background: rgba(0,0,0,0.05);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
        }
        
        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
            bottom: calc(100% + 5px);
        }
        
        /* Loader */
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid rgba(236, 72, 153, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    <!-- Lien vers Font Awesome pour les ic√¥nes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Lien vers animate.css pour des animations suppl√©mentaires -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body class="bg-gradient-to-br from-pink-50 via-purple-50 to-pink-100 font-poppins min-h-screen animated-bg overflow-x-hidden">

<!-- Contr√¥le audio -->
<div class="audio-control" id="audioControl">
    <i class="fas fa-music"></i>
</div>

<!-- Audio pour la musique -->
<audio id="backgroundMusic" loop>
    <source src="Bushy-B---Scared.mp3" type="audio/mp3">
    Votre navigateur ne supporte pas l'√©l√©ment audio.
</audio>

<!-- Ciel √©toil√© -->
<div class="fixed inset-0 overflow-hidden z-0 pointer-events-none" id="starsContainer"></div>

<!-- Ballons anim√©s -->
<div id="balloonsContainer" class="fixed inset-0 overflow-hidden z-0 pointer-events-none"></div>

<!-- Effet de particules -->
<canvas id="particlesCanvas" class="fixed inset-0 z-0 pointer-events-none"></canvas>

<!-- Contenu principal avec animations intuitives -->
<div class="relative z-10 max-w-4xl mx-auto px-4 py-12">
    <!-- En-t√™te -->
    <header class="text-center mb-16">
        <div id="todayBanner" class="sequential-appear bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-full inline-block mb-8 shadow-lg hover:scale-105 transition-transform duration-300 hover:shadow-xl" style="animation-delay: 0.1s">
            <p class="font-bold tracking-tighter pulse">üéâ C'est aujourd'hui ! Joyeux <span id="ageDisplay">19</span> ans <span id="nameDisplay">Rejoice</span> ! üéâ</p>
        </div>
        
        <h1 class="sequential-appear text-5xl md:text-7xl font-bold text-gradient mb-6 font-dancing tracking-tight" style="animation-delay: 0.3s">
            Joyeux Anniversaire
        </h1>
        
        <div class="relative inline-block">
            <h2 class="sequential-appear text-4xl md:text-6xl font-bold text-purple-800 mb-8 floating heartbeat relative z-10" style="animation-delay: 0.5s" id="nameTitle">
                Rejoice !
            </h2>
            <div class="absolute -inset-4 bg-pink-200 rounded-full opacity-20 blur-md z-0 animate-pulse"></div>
        </div>
        
        <div class="flex justify-center gap-4 sequential-appear" style="animation-delay: 0.7s">
            <span class="glass-effect px-6 py-3 rounded-full shadow-md text-pink-600 font-semibold backdrop-blur-sm">
                <span id="ageSpan">19</span> ans
            </span>
            <span class="glass-effect px-6 py-3 rounded-full shadow-md text-purple-600 font-semibold backdrop-blur-sm">
                <span id="birthdayDate">28 avril</span>
            </span>
        </div>
    </header>

    <!-- Carte principale -->
    <div class="sequential-appear bg-white bg-opacity-80 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden mb-16 transform transition-all duration-500 hover:shadow-2xl card-3d" style="animation-delay: 0.9s">
        <div class="relative h-96 overflow-hidden group">
            <img src="images/principal.jpg" 
                 alt="Anniversaire de Rejoice" 
                 class="w-full h-full object-cover transition-all duration-700 group-hover:scale-110"
                 loading="lazy">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-90"></div>
            <div class="absolute bottom-0 left-0 right-0 p-8 text-white">
                <p class="text-2xl font-semibold drop-shadow-lg">Pour la plus belle des filles...</p>
                <div class="w-16 h-1 bg-pink-400 mt-2 rounded-full"></div>
            </div>
            
            <!-- Effet de lumi√®re sur l'image -->
            <div class="absolute inset-0 pointer-events-none">
                <div class="absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-pink-400 opacity-20 blur-3xl"></div>
                <div class="absolute bottom-1/4 right-1/4 w-40 h-40 rounded-full bg-purple-400 opacity-20 blur-3xl"></div>
            </div>
        </div>
        
        <div class="p-8 text-center">
            <p class="text-gray-700 mb-8 leading-relaxed" id="specialMessage">
                Rejoice, en ce jour magique,<br>
                je te souhaite une avalanche de bonheur, une pluie de sourires et un oc√©an de belles surprises. Que cette nouvelle ann√©e de ta vie t'apporte tout ce que ton c≈ìur d√©sire : amour, r√©ussite, sant√© et plein de moments inoubliables.
            </p>
            
            <button id="surpriseBtn" class="sequential-appear bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold py-4 px-10 rounded-full shadow-lg transition-all duration-300 btn-glow hover:from-pink-600 hover:to-purple-600" style="animation-delay: 1.1s">
                <span class="relative z-10 flex items-center justify-center gap-2">
                    <i class="fas fa-gift"></i>
                    <span>‚ú® Voir ta surprise sp√©ciale</span>
                </span>
                <span class="absolute inset-0 rounded-full bg-gradient-to-r from-pink-600 to-purple-600 opacity-0 hover:opacity-100 transition-opacity duration-300"></span>
            </button>
        </div>
    </div>

    <!-- Galerie photos -->
    <div class="mb-16 sequential-appear" style="animation-delay: 1.3s">
        <h3 class="text-3xl font-bold text-center text-purple-800 mb-8 relative inline-block">
            <span class="relative z-10">Quelques souvenirs de <span id="galleryName">Rejoice</span></span>
            <span class="absolute -bottom-1 left-0 right-0 h-2 bg-pink-200 opacity-60 rounded-full z-0"></span>
        </h3>
        
        <div class="grid grid-cols-2 md:grid-cols-3 gap-6" id="galleryContainer">
            <!-- Les photos seront g√©n√©r√©es par JavaScript -->
        </div>
    </div>

    <!-- Message sp√©cial -->
    <div class="sequential-appear bg-gradient-to-br from-pink-400 to-purple-500 rounded-3xl p-10 text-white text-center mb-16 relative overflow-hidden shadow-xl hover:shadow-2xl transition-shadow duration-300" style="animation-delay: 1.8s">
        <!-- Effets de fond -->
        <div class="absolute -top-20 -right-20 w-64 h-64 rounded-full bg-white/10"></div>
        <div class="absolute -bottom-20 -left-20 w-80 h-80 rounded-full bg-white/5"></div>
        <div class="absolute top-1/2 left-1/2 w-96 h-96 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/5"></div>
        
        <div class="relative z-10">
            <h3 class="text-4xl font-bold font-dancing mb-8 tracking-tight">Un message pour toi</h3>
            
            <div class="space-y-6 text-lg leading-relaxed">
                <p class="sequential-appear" style="animation-delay: 2.0s"><span id="messageName">Rejoice</span>, ton nom refl√®te si bien ta personnalit√© lumineuse !</p>
                <p class="sequential-appear" style="animation-delay: 2.2s">Tu apportes de la joie partout o√π tu passes, et c'est pourquoi nous t'aimons tant.</p>
                <p class="sequential-appear" style="animation-delay: 2.4s">Que cette nouvelle ann√©e t'apporte autant de bonheur que tu en donnes aux autres.</p>
                <div class="pt-6 sequential-appear" style="animation-delay: 2.6s">
                    <span class="text-5xl floating-element">üéÄ</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Compte √† rebours -->
    <div class="sequential-appear bg-white bg-opacity-80 backdrop-blur-sm rounded-3xl p-8 shadow-xl text-center hover:shadow-2xl transition-shadow duration-300" style="animation-delay: 2.8s">
        <h3 class="text-2xl font-bold text-purple-800 mb-6" id="countdownTitle">
            Profite de chaque instant !
        </h3>
        
        <div class="flex justify-center gap-6 mb-8">
            <div class="bg-pink-100 rounded-xl p-4 w-20 flex flex-col items-center">
                <div class="text-3xl font-bold text-pink-600" id="days">00</div>
                <div class="text-sm text-pink-800 mt-1">Jours</div>
            </div>
            <div class="bg-purple-100 rounded-xl p-4 w-20 flex flex-col items-center">
                <div class="text-3xl font-bold text-purple-600" id="hours">00</div>
                <div class="text-sm text-purple-800 mt-1">Heures</div>
            </div>
            <div class="bg-pink-100 rounded-xl p-4 w-20 flex flex-col items-center">
                <div class="text-3xl font-bold text-pink-600" id="minutes">00</div>
                <div class="text-sm text-pink-800 mt-1">Minutes</div>
            </div>
            <div class="bg-purple-100 rounded-xl p-4 w-20 flex flex-col items-center">
                <div class="text-3xl font-bold text-purple-600" id="seconds">00</div>
                <div class="text-sm text-purple-800 mt-1">Secondes</div>
            </div>
        </div>
        
        <div class="w-full bg-gray-100 rounded-full h-2.5 overflow-hidden">
            <div id="countdownProgress" class="bg-gradient-to-r from-pink-500 to-purple-500 h-2.5 rounded-full" style="width: 100%"></div>
        </div>
    </div>
</div>

<!-- Modal surprise -->
<div id="surpriseModal" class="fixed inset-0 bg-black/70 hidden flex items-center justify-center z-20 p-4 backdrop-blur-sm">
    <div class="modal-appear bg-white rounded-3xl overflow-hidden max-w-md w-full shadow-2xl transform transition-all duration-300 hover:shadow-3xl">
        <div class="relative group">
            <img src="images/principal.jpg" 
                 alt="Cadeau pour Rejoice" 
                 class="w-full h-56 object-cover group-hover:scale-105 transition-transform duration-700"
                 loading="lazy">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
            <button id="closeModal" class="absolute top-4 right-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition hover:scale-110">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            
            <!-- Effet de lumi√®re sur l'image du modal -->
            <div class="absolute inset-0 pointer-events-none">
                <div class="absolute top-1/3 left-1/3 w-32 h-32 rounded-full bg-pink-400 opacity-20 blur-3xl"></div>
            </div>
        </div>
        
        <div class="p-8 text-center relative">
            <!-- Effet de particules dans le modal -->
            <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-pink-500 to-transparent opacity-30"></div>
            
            <h3 class="text-3xl font-bold text-gradient mb-4 font-dancing">Une surprise pour <span id="modalName">Rejoice</span> !</h3>
            <div class="w-16 h-1 bg-gradient-to-r from-pink-500 to-purple-500 mx-auto mb-6 rounded-full"></div>
            
            <p class="text-gray-700 mb-6 leading-relaxed">
                Un cadeau sp√©cial t'attend en vrai, mais en attendant, voici un message rien que pour toi :
            </p>
            
            <div class="bg-pink-50 rounded-xl p-6 mb-8 relative overflow-hidden">
                <div class="absolute -top-10 -right-10 w-20 h-20 rounded-full bg-pink-200 opacity-20"></div>
                <div class="absolute -bottom-10 -left-10 w-24 h-24 rounded-full bg-purple-200 opacity-20"></div>
                
                <p class="font-dancing text-xl text-pink-700 relative z-10 leading-relaxed">
                    "Rejoice, tu es une personne incroyable, douce, forte et lumineuse. Ne change jamais, continue de briller comme tu sais si bien le faire. Que chaque jour te rapproche un peu plus de tes r√™ves. Tu es aussi belle √† l'int√©rieur qu'√† l'ext√©rieur. Merci d'illuminer nos vies !"
                </p>
            </div>
            
            <button class="bg-gradient-to-r from-pink-500 to-purple-500 text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all hover:scale-105 active:scale-95 btn-glow">
                <span class="flex items-center justify-center gap-2">
                    <i class="fas fa-heart"></i>
                    <span>üíù Merci</span>
                </span>
            </button>
        </div>
    </div>
</div>

<!-- Confettis -->
<canvas id="confettiCanvas" class="fixed inset-0 z-10 pointer-events-none"></canvas>

<script>
    // Configuration am√©lior√©e
    const config = {
        name: "Rejoice",
        age: 19,
        birthdayDate: "28 avril",
        birthdayMonth: 3, // Avril (0-index√©)
        birthdayDay: 28,
        isToday: false, // Ser√° calculado dinamicamente
        photos: [
            {src: "images/1.jpg", alt: "Sourire radieux", color: "#f59e0b"},
            {src: "images/2.jpg", alt: "Moment de joie", color: "#ec4899"},
            {src: "images/3.jpg", alt: "Soir√©e entre amis", color: "#8b5cf6"}
        ],
        messages: [
            "ton nom refl√®te si bien ta personnalit√© lumineuse !",
            "tu apportes de la joie partout o√π tu passes, et c'est pourquoi nous t'aimons tant.",
            "que cette nouvelle ann√©e t'apporte autant de bonheur que tu en donnes aux autres."
        ],
        colors: {
            primary: "#ec4899",
            secondary: "#8b5cf6",
            accent: "#f43f5e",
            light: "#fdf2f8",
            dark: "#1e293b"
        }
    };

    // Initialisation de la page
    document.addEventListener('DOMContentLoaded', function() {
        // V√©rifier si c'est l'anniversaire aujourd'hui
        const today = new Date();
        config.isToday = (today.getMonth() === config.birthdayMonth && today.getDate() === config.birthdayDay);
        
        // Mise √† jour des √©l√©ments avec les donn√©es de configuration
        updateTextElements();
        
        // Afficher ou masquer la banni√®re "C'est aujourd'hui"
        if (!config.isToday) {
            document.getElementById('todayBanner').classList.add('hidden');
            document.getElementById('countdownTitle').textContent = "Prochain anniversaire dans :";
        }

        // Initialiser les √©l√©ments interactifs
        generateStars();
        generateParticles();
        generateGallery();
        generateBalloons();
        updateCountdown();
        setInterval(updateCountdown, 1000);
        initSequentialAnimations();
        initModal();
        initConfetti();
        initAudio();
        
        // Ajouter un effet de scroll doux
        initSmoothScroll();
        
        // Ajouter un effet de parallaxe
        initParallax();
    });

    // Mettre √† jour tous les √©l√©ments textuels avec les donn√©es de configuration
    function updateTextElements() {
        document.getElementById('nameDisplay').textContent = config.name;
        document.getElementById('nameTitle').textContent = config.name + " !";
        document.getElementById('ageDisplay').textContent = config.age;
        document.getElementById('ageSpan').textContent = config.age;
        document.getElementById('birthdayDate').textContent = config.birthdayDate;
        document.getElementById('galleryName').textContent = config.name;
        document.getElementById('messageName').textContent = config.name;
        document.getElementById('modalName').textContent = config.name;
    }

    // Compte √† rebours am√©lior√©
    function updateCountdown() {
        const now = new Date();
        let nextBirthday = new Date(now.getFullYear(), config.birthdayMonth, config.birthdayDay);
        
        if (now > nextBirthday) {
            nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
        }
        
        const diff = nextBirthday - now;
        const totalDiff = diff;
        
        const days = Math.floor(diff / (86400000));
        const hours = Math.floor((diff % 86400000) / 3600000);
        const minutes = Math.floor((diff % 3600000) / 60000);
        const seconds = Math.floor((diff % 60000) / 1000);
        
        document.getElementById('days').textContent = days.toString().padStart(2, '0');
        document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
        document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
        document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        
        // Mettre √† jour la barre de progression
        if (!config.isToday) {
            const totalYearMs = 365 * 86400000;
            const progress = 100 - (diff / totalYearMs * 100);
            document.getElementById('countdownProgress').style.width = `${progress}%`;
        }
    }
    
    // G√©n√©rer les √©toiles avec plus de vari√©t√©
    function generateStars() {
        const starsContainer = document.getElementById('starsContainer');
        starsContainer.innerHTML = '';
        
        for(let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'absolute rounded-full star';
            
            // Couleurs vari√©es
            const colors = ['#ffecb3', '#ffccbc', '#c8e6c9', '#bbdefb', '#d1c4e9'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            star.style.backgroundColor = color;
            
            star.style.setProperty('--duration', `${Math.random() * 4 + 2}s`);
            star.style.setProperty('--delay', `${Math.random() * 8}s`);
            
            // Tailles vari√©es
            const size = Math.random() * 4 + 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            
            // Formes vari√©es (certaines √©toiles sont carr√©es)
            if (Math.random() > 0.7) {
                star.style.borderRadius = '2px';
            }
            
            star.style.top = `${Math.random() * 100}%`;
            star.style.left = `${Math.random() * 100}%`;
            
            starsContainer.appendChild(star);
        }
    }
    
    // G√©n√©rer des particules flottantes
    function generateParticles() {
        const canvas = document.getElementById('particlesCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        const particles = [];
        const colors = ['rgba(236, 72, 153, 0.3)', 'rgba(139, 92, 246, 0.3)', 'rgba(244, 63, 94, 0.3)'];
        
        for (let i = 0; i < 30; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 5 + 2,
                color: colors[Math.floor(Math.random() * colors.length)],
                speedX: Math.random() * 0.5 - 0.25,
                speedY: Math.random() * 0.5 - 0.25,
                angle: 0,
                spin: Math.random() * 0.02 - 0.01
            });
        }
        
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(p => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.angle);
                
                ctx.beginPath();
                ctx.arc(0, 0, p.size, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
                
                ctx.restore();
                
                p.x += p.speedX;
                p.y += p.speedY;
                p.angle += p.spin;
                
                // Rebond sur les bords
                if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
                if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
            });
            
            requestAnimationFrame(animateParticles);
        }
        
        animateParticles();
    }
    
    // G√©n√©rer les ballons avec plus de vari√©t√©
    function generateBalloons() {
        if (!config.isToday) return;
        
        const colors = ['#ff9ff3', '#feca57', '#ff6b6b', '#48dbfb', '#1dd1a1', '#5f27cd'];
        const container = document.getElementById('balloonsContainer');
        container.innerHTML = '';
        
        for (let i = 0; i < 20; i++) {
            const balloon = document.createElement('div');
            balloon.className = 'balloon';
            
            const size = Math.random() * 80 + 30;
            const color = colors[Math.floor(Math.random() * colors.length)];
            const left = Math.random() * 100;
            const duration = Math.random() * 15 + 10;
            const delay = Math.random() * 10;
            const shape = Math.random() > 0.5 ? '50%' : '30% 70% 70% 30% / 60% 40% 60% 40%';
            
            balloon.style.cssText = `
                width: ${size}px;
                height: ${size}px;
                background-color: ${color};
                left: ${left}%;
                animation-delay: ${delay}s;
                animation-duration: ${duration}s;
                border-radius: ${shape};
            `;
            
            // Ajouter un effet de lumi√®re sur les ballons
            const highlight = document.createElement('div');
            highlight.style.cssText = `
                position: absolute;
                top: 15%;
                left: 20%;
                width: 30%;
                height: 30%;
                background-color: rgba(255,255,255,0.4);
                border-radius: 50%;
            `;
            
            balloon.appendChild(highlight);
            container.appendChild(balloon);
            
            // Ajouter un fil pour certains ballons
            if (Math.random() > 0.5) {
                const string = document.createElement('div');
                string.style.cssText = `
                    position: absolute;
                    bottom: -${size/2}px;
                    left: 50%;
                    width: 2px;
                    height: ${size}px;
                    background-color: rgba(0,0,0,0.1);
                    transform: translateX(-50%) rotate(${Math.random() * 30 - 15}deg);
                    transform-origin: top center;
                `;
                balloon.appendChild(string);
            }
        }
    }
    
    // G√©n√©rer la galerie photos avec des effets plus sophistiqu√©s
    function generateGallery() {
        const galleryContainer = document.getElementById('galleryContainer');
        galleryContainer.innerHTML = '';
        
        config.photos.forEach((photo, index) => {
            const delay = 1.5 + (index * 0.15);
            
            const photoDiv = document.createElement('div');
            photoDiv.className = 'relative group overflow-hidden rounded-2xl h-48 md:h-56 sequential-appear photo-frame';
            photoDiv.style.animationDelay = `${delay}s`;
            
            const img = document.createElement('img');
            img.src = photo.src;
            img.alt = photo.alt;
            img.className = 'w-full h-full object-cover transition-all duration-700 group-hover:scale-110';
            img.loading = 'lazy';
            
            const overlay = document.createElement('div');
            overlay.className = 'absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition duration-500 p-4';
            
            const caption = document.createElement('span');
            caption.className = 'text-white font-semibold text-center transform translate-y-4 group-hover:translate-y-0 transition duration-300';
            caption.textContent = photo.alt;
            
            // Effet de lumi√®re bas√© sur la couleur de la photo
            const lightEffect = document.createElement('div');
            lightEffect.className = 'absolute inset-0 pointer-events-none';
            lightEffect.style.background = `radial-gradient(circle at center, rgba(${hexToRgb(photo.color)}, 0.1), transparent 70%)`;
            
            overlay.appendChild(caption);
            photoDiv.appendChild(img);
            photoDiv.appendChild(overlay);
            photoDiv.appendChild(lightEffect);
            galleryContainer.appendChild(photoDiv);
        });
    }
    
    // Convertir hex en rgb
    function hexToRgb(hex) {
        hex = hex.replace('#', '');
        const r = parseInt(hex.substring(0, 2), 16);
        const g = parseInt(hex.substring(2, 4), 16);
        const b = parseInt(hex.substring(4, 6), 16);
        return `${r},${g},${b}`;
    }
    
    // Confettis am√©lior√©s
    function initConfetti() {
        if (!config.isToday) return;
        
        const canvas = document.getElementById('confettiCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        const colors = ['#ff9ff3', '#feca57', '#ff6b6b', '#48dbfb', '#1dd1a1', '#5f27cd'];
        const confetti = [];
        
        // Plus de confettis avec des formes vari√©es
        for (let i = 0; i < 100; i++) {
            confetti.push({
                x: Math.random() * canvas.width,
                y: Math.random() * -canvas.height,
                size: Math.random() * 12 + 3,
                color: colors[Math.floor(Math.random() * colors.length)],
                speed: Math.random() * 5 + 2,
                angle: Math.random() * 6.28,
                spin: Math.random() * 0.2 - 0.1,
                shape: Math.random() > 0.7 ? 'circle' : (Math.random() > 0.5 ? 'square' : 'triangle'),
                rotation: Math.random() * 360,
                rotationSpeed: Math.random() * 5 - 2.5
            });
        }
        
        function drawTriangle(size, color) {
            ctx.beginPath();
            ctx.moveTo(0, -size/2);
            ctx.lineTo(size/2, size/2);
            ctx.lineTo(-size/2, size/2);
            ctx.closePath();
            ctx.fillStyle = color;
            ctx.fill();
        }
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            confetti.forEach(p => {
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rotation * Math.PI / 180);
                
                if(p.shape === 'circle') {
                    ctx.beginPath();
                    ctx.arc(0, 0, p.size/2, 0, Math.PI*2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                } else if(p.shape === 'square') {
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                } else {
                    drawTriangle(p.size, p.color);
                }
                
                ctx.restore();
                
                p.y += p.speed;
                p.rotation += p.rotationSpeed;
                
                if (p.y > canvas.height + p.size) {
                    p.y = -p.size;
                    p.x = Math.random() * canvas.width;
                    p.shape = Math.random() > 0.7 ? 'circle' : (Math.random() > 0.5 ? 'square' : 'triangle');
                }
            });
            
            requestAnimationFrame(animate);
        }
        
        animate();
    }
    
    // Gestion de la modal surprise am√©lior√©e
    function initModal() {
        const surpriseModal = document.getElementById('surpriseModal');
        const surpriseBtn = document.getElementById('surpriseBtn');
        const closeModal = document.getElementById('closeModal');
        
        surpriseBtn.addEventListener('click', () => {
            surpriseModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Lancer des confettis suppl√©mentaires lors de l'ouverture
            burstConfetti();
        });
        
        closeModal.addEventListener('click', () => {
            surpriseModal.classList.add('hidden');
            document.body.style.overflow = '';
        });
        
        surpriseModal.addEventListener('click', (e) => {
            if (e.target === surpriseModal) {
                surpriseModal.classList.add('hidden');
                document.body.style.overflow = '';
            }
        });
    }
    
    // Animation d'apparition s√©quentielle am√©lior√©e
    function initSequentialAnimations() {
        const elements = document.querySelectorAll('.sequential-appear');
        
        elements.forEach((el, index) => {
            const delay = el.style.animationDelay ? 
                parseFloat(el.style.animationDelay) * 1000 : 
                index * 150 + 300;
            
            setTimeout(() => {
                el.style.opacity = 1;
                el.classList.add('fade-in', 'slide-up');
            }, delay);
        });
    }
    
    // Gestion de l'audio am√©lior√©e
    function initAudio() {
        const audioControl = document.getElementById('audioControl');
        const backgroundMusic = document.getElementById('backgroundMusic');
        let isPlaying = false;
        
        // D√©marrer la musique apr√®s interaction utilisateur
        function enableAudio() {
            document.removeEventListener('click', enableAudio);
            document.removeEventListener('keydown', enableAudio);
            
            backgroundMusic.volume = 0.5;
            
            audioControl.addEventListener('click', () => {
                if (isPlaying) {
                    backgroundMusic.pause();
                    audioControl.innerHTML = '<i class="fas fa-music"></i>';
                } else {
                    backgroundMusic.play();
                    audioControl.innerHTML = '<i class="fas fa-pause"></i>';
                }
                isPlaying = !isPlaying;
            });
            
            // D√©tecter quand la musique se termine pour r√©initialiser l'ic√¥ne
            backgroundMusic.addEventListener('ended', () => {
                isPlaying = false;
                audioControl.innerHTML = '<i class="fas fa-music"></i>';
            });
        }
        
        // Activer l'audio au premier clic ou touche
        document.addEventListener('click', enableAudio, { once: true });
        document.addEventListener('keydown', enableAudio, { once: true });
    }
    
    // Effet de scroll doux
    function initSmoothScroll() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    }
    
    // Effet de parallaxe simple
    function initParallax() {
        const parallaxElements = document.querySelectorAll('.parallax');
        
        window.addEventListener('scroll', () => {
            const scrollPosition = window.pageYOffset;
            
            parallaxElements.forEach(element => {
                const speed = parseFloat(element.dataset.speed) || 0.5;
                const yPos = -(scrollPosition * speed);
                element.style.transform = `translate3d(0, ${yPos}px, 0)`;
            });
        });
    }
    
    // Explosion de confettis
    function burstConfetti() {
        const canvas = document.getElementById('confettiCanvas');
        const ctx = canvas.getContext('2d');
        
        const colors = ['#ff9ff3', '#feca57', '#ff6b6b', '#48dbfb', '#1dd1a1', '#5f27cd'];
        const burstParticles = [];
        
        // Cr√©er une explosion de particules
        for (let i = 0; i < 50; i++) {
            burstParticles.push({
                x: canvas.width / 2,
                y: canvas.height / 2,
                size: Math.random() * 12 + 3,
                color: colors[Math.floor(Math.random() * colors.length)],
                speedX: Math.random() * 10 - 5,
                speedY: Math.random() * -15 - 5,
                rotation: Math.random() * 360,
                rotationSpeed: Math.random() * 10 - 5,
                gravity: 0.2,
                shape: Math.random() > 0.7 ? 'circle' : (Math.random() > 0.5 ? 'square' : 'triangle'),
                life: 100,
                decay: Math.random() * 0.5 + 0.5
            });
        }
        
        function drawTriangle(size, color) {
            ctx.beginPath();
            ctx.moveTo(0, -size/2);
            ctx.lineTo(size/2, size/2);
            ctx.lineTo(-size/2, size/2);
            ctx.closePath();
            ctx.fillStyle = color;
            ctx.fill();
        }
        
        function animateBurst() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < burstParticles.length; i++) {
                const p = burstParticles[i];
                
                if (p.life <= 0) continue;
                
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate(p.rotation * Math.PI / 180);
                
                if(p.shape === 'circle') {
                    ctx.beginPath();
                    ctx.arc(0, 0, p.size/2, 0, Math.PI*2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                } else if(p.shape === 'square') {
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                } else {
                    drawTriangle(p.size, p.color);
                }
                
                ctx.restore();
                
                p.x += p.speedX;
                p.y += p.speedY;
                p.speedY += p.gravity;
                p.rotation += p.rotationSpeed;
                p.life -= p.decay;
                p.size = Math.max(0, p.size * 0.99);
            }
            
            // Continuer l'animation s'il reste des particules vivantes
            if (burstParticles.some(p => p.life > 0)) {
                requestAnimationFrame(animateBurst);
            }
        }
        
        animateBurst();
    }
</script>
</body>
</html>